(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{633:function(t,a,e){"use strict";e.r(a);var s=e(5),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"ä¸€åˆ†é’Ÿé€Ÿè¯»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€åˆ†é’Ÿé€Ÿè¯»"}},[t._v("#")]),t._v(" ä¸€åˆ†é’Ÿé€Ÿè¯»")]),t._v(" "),a("p",[t._v("å¦‚æœä½ æ—¥å¸¸å†™çš„æ¯”è¾ƒå¤šçš„ï¼Œæ˜¯ä¸šåŠ¡ä»£ç ï¼Œè€Œéåº•å±‚çš„åŸºç¡€åº“ï¼Œé‚£ä¹ˆæ­¤æ¬¡ LLVM çš„æ›´æ–°ä½ å¯ä»¥åŸºæœ¬ä¸çœ‹ï¼Œå› ä¸ºä»–å¯¹ä½ çš„æ—¥å¸¸å¼€å‘ä¸ä¼šæœ‰å¤ªå¤šæ”¹å˜ï¼Œæœ€å¤šæ˜¯ä½ ä¼šå‘ç° Xcode å˜å¾—æ›´åŠ ä¸¥æ ¼äº†â€”â€”åŸæ¥æ­£å¸¸çš„ä»£ç å‡ºç°äº†æ–°çš„ç¼–è¯‘å™¨è­¦å‘Šã€‚æ¥ç®€å•è¿‡ä¸€ä¸‹æ­¤æ¬¡ LLVM çš„æ›´æ–°å†…å®¹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("Xcode 10 çš„ ARC æ”¯æŒåœ¨ C ç»“æ„ä½“ä¸­ç›´æ¥ä½¿ç”¨ Objective-C çš„å¯¹è±¡æŒ‡é’ˆ")]),t._v(" "),a("li",[t._v("Xcode  10 å¢åŠ äº† 100+ ä¸ªç¼–è¯‘å™¨è¯Šæ–­(Compiler Diagnostic)ï¼Œä½ åœ¨å†™ä»£ç çš„æ—¶å€™å¯èƒ½ä¼šçœ‹åˆ°æ›´å¤šçš„ warning è­¦å‘Š")]),t._v(" "),a("li",[t._v("Xcode 10 çš„é™æ€æ£€æŸ¥å™¨æ–°å¢äº†å¯¹ GCD ä¸å½“ä½¿ç”¨ä»¥åŠè‡ªåŠ¨é‡Šæ”¾æ± å˜é‡ä¸å½“ä½¿ç”¨çš„æ£€æŸ¥ï¼ŒåŒæ—¶æå‡äº†æ€§èƒ½ï¼Œä¼˜åŒ–äº† Xcode ä¸­ Analyze åçš„ç•Œé¢å±•ç¤ºæ–¹å¼")]),t._v(" "),a("li",[t._v("LLVM ç¼–è¯‘å™¨é€šè¿‡è‡ªåŠ¨æ·»åŠ ä¸€äº›é˜²å¾¡æ€§ä»£ç ï¼Œå¸®åŠ©ä½ é˜²èŒƒæ‰ã€ŒStack Buffer Overflowã€å’Œ ã€ŒStack Clashã€ä¸¤ä¸ªäºŒè¿›åˆ¶ç›¸å…³çš„å®‰å…¨æ¼æ´")]),t._v(" "),a("li",[t._v("Xcode 10 ä¸­ï¼Œä½ å¯ä»¥é’ˆå¯¹ iMac Pro / iPhone X / iPhone 8 / iPhone 8 Plus è¿™å‡ æ¬¾å…·æœ‰æ–° CPU æŒ‡ä»¤é›†æ‰©å±•çš„è®¾å¤‡è¿›è¡Œé’ˆå¯¹æ€§çš„ä¼˜åŒ–ï¼Œè¿™äº›ä¼˜åŒ–æœ‰çš„æ˜¯éœ€è¦è‡ªå·±å†™é’ˆå¯¹æ€§çš„å¹³å°ä»£ç æ¥å®ç°ï¼Œæœ‰çš„åˆ™æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨å¸®ä½ å®ç° ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"åœ¨å¼€å§‹ä¹‹å‰-æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹-llvm-æ˜¯ä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨å¼€å§‹ä¹‹å‰-æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹-llvm-æ˜¯ä»€ä¹ˆ"}},[t._v("#")]),t._v(" åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ LLVM æ˜¯ä»€ä¹ˆ")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://llvm.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("LLVM"),a("OutboundLink")],1),t._v("  æ˜¯åŒ…æ‹¬ Clangã€LLDBã€LLVM Core åœ¨å†…çš„ä¸€ç³»åˆ—ç¼–è¯‘å™¨ç›¸å…³çš„é¡¹ç›®çš„æ€»ç§°ã€‚è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦æ„ä¹‰ï¼Œå°±æ˜¯åœ¨ GNU çš„ GCC ä½“ç³»ä¹‹å¤–ï¼Œåˆ›å»ºä¸€å¥—æ–°çš„ç¼–è¯‘å™¨ä»¥åŠç›¸å…³å·¥å…·çš„ä½“ç³»ï¼Œè®© Xcode æˆ–è€…å…¶ä»–å·¥å…·èƒ½å¤Ÿæ›´å¥½çš„é›†æˆè¿›æ¥ã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œæˆ‘ä»¬çš„ OC / Swift ä»£ç ä»ç¼–å†™åˆ° Xcode ä¸ºæˆ‘ä»¬ç”Ÿæˆæœ€ç»ˆçš„äºŒè¿›åˆ¶ä»£ç ä¸­é—´çš„æ‰€æœ‰çš„è¿‡ç¨‹ï¼Œéƒ½ç¦»ä¸å¼€ LLVM ã€‚å³ä¾¿ä½ å¯¹ç¼–è¯‘å™¨ç­‰ç›¸å…³çŸ¥è¯†ä¸æ˜¯é‚£ä¹ˆç†Ÿæ‚‰ï¼Œä¹Ÿåº”è¯¥è®°ä½æˆ‘ä»¬å¦‚ä»Šä¹ ä»¥ä¸ºå¸¸çš„ ARC ï¼Œå°±æ˜¯åˆ©ç”¨ LLVM å®ç°çš„ã€‚LLVM çš„ä¸æ–­è¿­ä»£ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å¸¦æ¥ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("æ›´ç®€æ´çš„ç¼–ç¨‹ä½“éªŒï¼ˆå¦‚ ARCï¼‰")]),t._v(" "),a("li",[t._v("æ›´å…¨é¢çš„ç¼–è¯‘æœŸé”™è¯¯æ£€æŸ¥")]),t._v(" "),a("li",[t._v("æ›´å…¨é¢çš„é™æ€åˆ†æ")]),t._v(" "),a("li",[t._v("æ›´å¿«çš„ç¼–è¯‘é€Ÿåº¦")]),t._v(" "),a("li",[t._v("æ›´é«˜æ•ˆçš„äºŒè¿›åˆ¶ä»£ç ")])]),t._v(" "),a("h2",{attrs:{id:"ã€what-s-new-in-llvmã€-å…·ä½“è®²äº†ä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ã€what-s-new-in-llvmã€-å…·ä½“è®²äº†ä»€ä¹ˆ"}},[t._v("#")]),t._v(" ã€What's new in LLVMã€ å…·ä½“è®²äº†ä»€ä¹ˆï¼Ÿ")]),t._v(" "),a("h3",{attrs:{id:"updates-on-arc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updates-on-arc"}},[t._v("#")]),t._v(" Updates on ARC")]),t._v(" "),a("p",[t._v("åœ¨ Xcode 10 ä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ C çš„ç»“æ„ä½“ä¸­ä½¿ç”¨å¯¹è±¡æŒ‡é’ˆï¼Œç¼–è¯‘å™¨ä¼šæ¯«ä¸ç•™æƒ…çš„ç»™å‡ºæˆ‘ä»¬ä¸€ä¸ªçº¢å½¤å½¤çš„é”™è¯¯è­¦å‘Šï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/a9c58a651a9da1f1bfc475cf919455ff.jpg",alt:""}})]),t._v(" "),a("p",[t._v("æ ¹æ® "),a("a",{attrs:{href:"https://clang.llvm.org/docs/AutomaticReferenceCounting.html#ownership-qualified-fields-of-structs-and-unions",target:"_blank",rel:"noopener noreferrer"}},[t._v("Clang çš„ ARC æ–‡æ¡£"),a("OutboundLink")],1),t._v(" ä»¥åŠ 2011 å¹´çš„ "),a("a",{attrs:{href:"https://download.developer.apple.com/wwdc_2011/adc_on_itunes__wwdc11_sessions__pdf/323_intro_to_arc_304repeat.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("WWDC Session 323"),a("OutboundLink")],1),t._v(" ç¬¬ 21 é¡µï¼Œåœ¨ä¹‹å‰çš„ ARC ä»£ç ä¸­ç¦æ­¢ C ç»“æ„ä½“ä¸­ä½¿ç”¨å¯¹è±¡æŒ‡é’ˆï¼Œæ˜¯å› ä¸º ARC è¦æ±‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸå°±çŸ¥é“ç»“æ„ä½“ä¸­å¯¹è±¡æŒ‡é’ˆçš„å¼•ç”¨çš„å˜åŒ–æƒ…å†µã€‚è€Œåœ¨å½“æ—¶ï¼Œè¿™å¹¶ä¸å¥½å®ç°ã€‚æ‰€ä»¥å½“æ—¶è‹¹æœçš„å·¥ç¨‹å¸ˆç›´æ¥å»ºè®®å¤§å®¶ä½¿ç”¨ç±»è€Œä¸æ˜¯ç»“æ„ä½“ã€‚ä¹Ÿæœ‰ "),a("a",{attrs:{href:"https://stackoverflow.com/questions/14784973/fixing-arc-error-when-using-objective-c-object-in-struct",target:"_blank",rel:"noopener noreferrer"}},[t._v("SO ä¸Šçš„çƒ­å¿ƒç½‘å‹"),a("OutboundLink")],1),t._v("è¡¨ç¤ºæˆ‘ä»¬å¯ä»¥ç”¨ "),a("code",[t._v("__unsafe_unretained")]),t._v(" æ¥å»æ‰ç¼–è¯‘é”™è¯¯ã€‚ä¹Ÿå°±æ˜¯æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªå¯¹è±¡æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸä½ ä¸ç”¨ç®¡äº†ï¼Œæˆ‘ä»¬å¼€å‘è€…æ¥ç®¡ã€‚")]),t._v(" "),a("p",[t._v("ç°åœ¨ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥åƒ Swift ä¸€æ ·ï¼Œåœ¨ç»“æ„ä½“ä¸­å¿«ä¹çš„å£°æ˜å¯¹è±¡æŒ‡é’ˆï¼ŒåŒæ—¶é¿å…äº†è‡ªå·±ç®¡ç†æŒ‡é’ˆå¼•ç”¨çš„æ‹…å¿§ï¼Œå› ä¸ºå¯¹è±¡çš„ "),a("code",[t._v("retain")]),t._v(" å’Œ"),a("code",[t._v("release")]),t._v("ç¼–è¯‘å™¨éƒ½ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å®Œæˆï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/93949a6594a4f27282e40f9dce508965.jpg",alt:""}})]),t._v(" "),a("p",[t._v("ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„æ–¹å¼ä½¿ç”¨ç»“æ„ä½“ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦è‡ªå·±å»æ‰‹åŠ¨å°†å¯¹è±¡æŒ‡é’ˆç½®ä¸º nil:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/d3c2fe636661a1a60ebec4b818e462cc.jpg",alt:""}})]),t._v(" "),a("p",[t._v("æœ€åå†æ¥è¯´è¯´æˆ‘ä¸ªäººè®¤ä¸ºè¿™ä¸ªå˜åŒ–ç»™æˆ‘ä»¬ç¼–ç¨‹ä¸Šå¸¦æ¥çš„æ”¹å˜ï¼š")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€äº›ã€è½»é‡ã€çš„æ¨¡å‹ã€‚æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€éå¸¸ç®€å•çš„æ¨¡å‹å¯¹è±¡ï¼Œå°±ä¸ç”¨å¾ˆéº»çƒ¦çš„å£°æ˜ä¸€ä¸ªç±»ï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ªç»“æ„ä½“è¿…é€Ÿè§£å†³æˆ˜æ–—ã€‚è™½ç„¶è¿™é‡Œçš„ç»“æ„ä½“å¹¶ä¸èƒ½åƒ Swift ä¸­çš„ç»“æ„ä½“é‚£æ ·å¼ºå¤§ï¼Œä½†æ¯•ç«Ÿæ˜¯ä¸€ä¸ªè¿›æ­¥ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("æœ€åéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¸¦æœ‰å¯¹è±¡æŒ‡é’ˆçš„ç»“æ„ä½“ï¼Œæ˜¯ä¸èƒ½å¼•å…¥åˆ° Swift ä¸­çš„ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"new-diagnostics-in-xcode-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-diagnostics-in-xcode-10"}},[t._v("#")]),t._v(" New Diagnostics in Xcode 10")]),t._v(" "),a("p",[t._v("è¿™ä¸€éƒ¨åˆ†å¯¹æˆ‘ä»¬æœ€å¤§çš„å½±å“ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨å†™ä»£ç çš„æ—¶å€™å¯ä»¥çœ‹åˆ°æ›´å¤šçš„ç¼–è¯‘è­¦å‘Šäº† ğŸ˜‚ã€‚è‹¹æœçš„å·¥ç¨‹å¸ˆå®£ç§°è¿™ä¸€æ¬¡ä»–ä»¬å¢åŠ äº† 100+ ä¸ªä»£ç è¯Šæ–­é¡¹ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´æœ‰è´¨é‡çš„ä»£ç ã€‚åœ¨ Session ä¸­ï¼Œä»–æŒ‘äº†ä¸¤ä¸ªä¸»è¦çš„è¯Šæ–­ä½œä¸ºæ¼”ç¤ºã€‚")]),t._v(" "),a("h4",{attrs:{id:"swift-and-objective-c-interoperability"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#swift-and-objective-c-interoperability"}},[t._v("#")]),t._v(" Swift and Objective-C Interoperability")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼Œå½“æˆ‘ä»¬æƒ³åœ¨ OC çš„ä»£ç ä¸­ä½¿ç”¨ Swift ä»£ç æ—¶ï¼Œéœ€è¦ä¸º Swift ä»£ç ç”Ÿæˆä¸€ä¸ªå¤´æ–‡ä»¶ã€‚ä½†æ˜¯ Swift æœ‰è®¸å¤šè¯­è¨€ç‰¹æ€§æ˜¯ OC æ²¡æœ‰çš„ã€‚æ¯”å¦‚é€ƒé€¸é—­åŒ…ï¼ˆEscape Closureï¼‰ã€‚æ‰€ä»¥ OC å°±å¢åŠ äº†"),a("code",[t._v("NS_NOESCAPE")]),t._v("è¿™ä¸ªå®æ¥åšå…¼å®¹ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ Xcode 10 ä¹‹å‰ï¼Œå¦‚æœ OC ä»£ç éµä»äº† Swift åè®®åˆæ²¡æœ‰æ­£ç¡®å£°æ˜ "),a("code",[t._v("NS_NOESCAPE")]),t._v("ï¼ŒXcode ä¸ä¼šç»™å‡ºä»»ä½•æç¤ºï¼Œç°åœ¨å¦‚æœä½ è¿™ä¹ˆåšï¼ŒXcode ä¼šå‘Šè¯‰ä½ ï¼Œä½ éœ€è¦æŠŠ block å£°æ˜ä¸º "),a("code",[t._v("NS_NOESCAPE")]),t._v("çš„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/3d142d1cc62d13d638b14c19cb079221.jpg",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"packing-struct-members-with-pragma-pack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packing-struct-members-with-pragma-pack"}},[t._v("#")]),t._v(" Packing Struct Members with #pragma pack")]),t._v(" "),a("p",[t._v("è¿™ä¸ªæ–°çš„æ£€æŸ¥é¡¹æ¯”è¾ƒç®€å•ï¼Œä¸€èˆ¬æ¥è¯´å¦‚æœæˆ‘ä»¬å£°æ˜ç»“æ„ä½“åˆæœ‰"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AF%B9%E9%BD%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("å­—èŠ‚å¯¹é½"),a("OutboundLink")],1),t._v("çš„éœ€è¦æ—¶ï¼Œä¼šä½¿ç”¨ "),a("code",[t._v("#pragma pack (push, 1)")]),t._v(" ä»¥åŠ "),a("code",[t._v("#pragma pack (pop)")]),t._v(" æ¥å®ç°ã€‚è¿™ä¸¤ä¸ª pragma ä¸€èˆ¬æ˜¯æˆå¯¹å‡ºç°çš„ã€‚åœ¨ Xcode 10 ä¸­ï¼Œå¦‚æœä½ æ²¡æœ‰æˆå¯¹ä½¿ç”¨å®ƒä»¬ï¼Œç¼–è¯‘å™¨å°±ä¼šç»™å‡ºè­¦å‘Šï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/36b3f9539bbcf0a04e915e48aa33ae23.jpg",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"clang-static-analyzer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clang-static-analyzer"}},[t._v("#")]),t._v(" Clang Static Analyzer")]),t._v(" "),a("p",[t._v("é™æ€æ£€æŸ¥å™¨å’Œç¼–è¯‘è¯Šæ–­ä¸åŒï¼Œé™æ€æ£€æŸ¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„æ‰§è¡Œ Product -> Analyze æ‰èƒ½çœ‹åˆ°ç»“æœã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œè‹¹æœçš„å·¥ç¨‹å¸ˆè¡¨ç¤ºï¼Œæˆ‘ä»¬åŠªåŠ›äº†ä¸€å¹´ï¼Œä¸ºå¤§å®¶å¸¦æ¥äº†ä¸¤ä¸ªæ–°çš„é™æ€æ£€æŸ¥ï¼Œ åŒæ—¶ä¼˜åŒ–äº†ç•Œé¢å±•ç¤ºæ•ˆæœå¹¶æå‡äº†é™æ€æ£€æŸ¥çš„æ€§èƒ½ã€‚")]),t._v(" "),a("h4",{attrs:{id:"grand-central-dispatch-performance-anti-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grand-central-dispatch-performance-anti-pattern"}},[t._v("#")]),t._v(" Grand Central Dispatch performance anti-pattern")]),t._v(" "),a("p",[t._v("æ‰€è°“ anti-patternï¼ˆåæ¨¡å¼ï¼‰ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯å“ªäº›ä¹ä¸€çœ¼çœ‹ä¸Šå»è¿˜ OK ï¼Œä½†æ˜¯å®é™…è¿è¡Œèµ·æ¥å¾€å¾€å¾—ä¸å¿å¤±æ²¡æœ‰ç›Šå¤„çš„ä»£ç ç¼–å†™æ¨¡å¼ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­è«è¿‡äºã€å•ä¾‹æ¨¡å¼ã€ï¼Œå½“å¤§å®¶æ»¥ç”¨å•ä¾‹æ¨¡å¼ä»¥åï¼Œå•ä¾‹æ¨¡å¼å°±æˆäº†åæ¨¡å¼ã€‚")]),t._v(" "),a("p",[t._v("è€Œåœ¨ä½¿ç”¨ GCD çš„è¿‡ç¨‹ä¸­ä¹Ÿæœ‰ä¸€ç§ä¸å¤ªå¥½çš„æ¨¡å¼ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-objc extra-class"},[a("pre",{pre:!0,attrs:{class:"language-objc"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSString "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("requestCurrentTaskName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    __block NSString "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("taskName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nil"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    dispatch_semaphore_t sema "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch_semaphore_create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    NSXPCConnection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("connection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSXPCConnection alloc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" initWithServiceName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"MyConnection"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    id remoteObjectProxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remoteObjectProxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remoteObjectProxy requestCurrentTaskName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSString "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        taskName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch_semaphore_signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch_semaphore_wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                            sema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch_time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DISPATCH_TIME_NOW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" taskName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¹ä¸€çœ‹ï¼Œè¿™æ®µä»£ç å¥½åƒæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¿¡å·é‡æ¥ä¿è¯å½“å‰æ–¹æ³•åœ¨å¼‚æ­¥è·å–åˆ° taskName ä¹‹åæ‰ä¼šè¿”å›ã€‚ç„¶åä»”ç»†æ¨æ•²ä¸€ä¸‹ï¼Œè¿™æ®µä»£ç æ˜¯æœ‰é—®é¢˜çš„ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å½“å‰çº¿ç¨‹åœ¨ç­‰å¾…å¦å¤–ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹ç»“æŸï¼Œè€Œè¿™ä¸ªå¼‚æ­¥çº¿ç¨‹ä¸€èˆ¬æ˜¯ä¼˜å…ˆçº§æ¯”è¾ƒä½çš„çº¿ç¨‹ï¼Œå› æ­¤å°±å‡ºç°äº†ä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ç­‰å¾…ä¼˜å…ˆçº§ä½çš„çº¿ç¨‹è¿™ç§ä¼˜å…ˆçº§é€†è½¬çš„ä¸åˆç†ç°è±¡ã€‚")]),t._v(" "),a("li",[t._v("æ–°å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ä½¿ç”¨äº†é”ï¼Œäº§ç”Ÿäº†å¤šä½™çš„çº¿ç¨‹é—´äº¤äº’çš„æˆæœ¬")])]),t._v(" "),a("p",[t._v("Xcode 10 ä¼šå¸®æˆ‘ä»¬æ£€æŸ¥å‡ºæ¥è¿™æ ·çš„é—®é¢˜ä»£ç ï¼Œå¹¶ç»™ä¸æˆ‘ä»¬å–„æ„çš„æé†’ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/89d6b6281b61faa511771d89e1ad344d.jpg",alt:""}})]),t._v(" "),a("p",[t._v("é‚£è¿™æ®µä»£ç åº”è¯¥å¦‚ä½•æ”¹æ­£å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ä¸€ç§æ–¹æ³•æ˜¯å¦‚æœå½“å‰çš„è¿”å›å€¼æ˜¯åŒæ­¥çš„ï¼Œå°±ä½¿ç”¨åŒæ­¥ç‰ˆæœ¬çš„åº•å±‚ APIï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/628bb5c16606fd603cfee4e5eea7a053.jpg",alt:""}})]),t._v(" "),a("p",[t._v("å¦å¤–ä¸€ç§æ˜¯ï¼Œå°†å½“å‰çš„æ–¹æ³•é£æ ¼æ”¹ä¸ºå¼‚æ­¥å›è°ƒé£æ ¼ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/12e8f3acac46b1e95eba2aad6f2d593d.jpg",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"autoreleasing-variables-outliving-autorelease-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#autoreleasing-variables-outliving-autorelease-pool"}},[t._v("#")]),t._v(" Autoreleasing variables outliving autorelease pool")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨ "),a("code",[t._v("@autoreleasepool")]),t._v(" ä¸­çš„å¯¹è±¡ä¼šåœ¨ç¦»å¼€ "),a("code",[t._v("@autoreleasepool")]),t._v("ä½œç”¨åŸŸåé‡Šæ”¾ã€‚Xcode 10 æ–°å¢äº†é™æ€æ£€æŸ¥å™¨å¸®åŠ©æŸ¥å‡ºæ¥å“ªäº›åœ¨ "),a("code",[t._v("@autoreleasepool")]),t._v(" ä»¥å¤–è®¿é—®å˜é‡åœ°å€çš„é—®é¢˜ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("æ¯”å¦‚æˆ‘ä»¬æœ‰è¿™æ ·çš„é”™è¯¯ä»£ç ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/cc4406c268852f61f54ad76b2f5f3eba.jpg",alt:""}})]),t._v(" "),a("p",[t._v("error åœ¨æ‰§è¡Œå®Œå½“å‰æ–¹æ³•åå°±ä¼šè¢«é‡Šæ”¾ï¼Œè€Œæ­¤æ—¶å¦‚æœå¤–ç•Œå»è®¿é—® error å¯¹è±¡ï¼Œå°±ä¼šå–œé—»ä¹è§äº† Boom â€”â€” å‘ç”Ÿ crash ã€‚Xcode  10 çš„é™æ€æ£€æŸ¥å™¨å¯ä»¥å¸®æˆ‘ä»¬åœ¨ç¼–è¯‘å™¨å°±æ£€æŸ¥å‡ºæ¥è¿™æ ·çš„é—®é¢˜ã€‚")]),t._v(" "),a("h4",{attrs:{id:"improved-performance-and-report-visualizations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#improved-performance-and-report-visualizations"}},[t._v("#")]),t._v(" Improved Performance and Report Visualizations")]),t._v(" "),a("p",[t._v("åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œè‹¹æœçš„å·¥ç¨‹å¸ˆè¡¨ç¤ºï¼ŒXcode 10 ä¸Šçš„é™æ€æ£€æŸ¥å™¨åœ¨åŒæ ·çš„æ—¶é—´å†…ï¼Œå¹³å‡æ¯” Xcode 9 å¤šæ£€æŸ¥å‡ºæ¥ 15% çš„é—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("åŒæ—¶ä»–ä»¬ä¹Ÿä¼˜åŒ–äº†é—®é¢˜å¤ç°è·¯å¾„çš„å±•ç¤ºï¼Œå»æ‰äº†ä¸€äº›ä¸å¿…è¦çš„è·¯å¾„ã€‚æ¯”å¦‚åœ¨ Xcode 9 ä¸­ä¸€ä¸ªæ£€æŸ¥ç»“æœä¼šè¿™ä¹ˆå±•ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/2f9ca65862d8dcd585f27982d1213f47.jpg",alt:""}})]),t._v(" "),a("p",[t._v("è€Œåœ¨ Xcode 10 ä¸­å°±ä¼šä»…å±•ç¤ºå…³é”®çš„éƒ¨åˆ†ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/ab90b3c4f2bd4c74b5030f32cdd994c0.jpg",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"increased-security"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#increased-security"}},[t._v("#")]),t._v(" Increased Security")]),t._v(" "),a("p",[t._v("è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹å¯èƒ½ç»å¤§å¤šæ•° iOS å¼€å‘è€…éƒ½ä¸å¤ªä¼šå…³å¿ƒï¼Œé™¤éæ˜¯åšåº•å±‚å®‰å…¨é˜²æŠ¤çš„çš„å¼€å‘è€…ã€‚")]),t._v(" "),a("h4",{attrs:{id:"stack-protector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stack-protector"}},[t._v("#")]),t._v(" Stack Protector")]),t._v(" "),a("p",[t._v("Stack Protector è¿™ä¸ªç‰¹æ€§ï¼Œä¸»è¦æ˜¯ä¸ºäº†é˜²æŠ¤ "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Stack_buffer_overflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stack Buffer Overflow"),a("OutboundLink")],1),t._v(" Attackã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘å°½é‡ç”¨ç®€å•çš„è¯­è¨€è§£é‡Šä¸€ä¸‹ã€‚")]),t._v(" "),a("p",[t._v("å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª "),a("code",[t._v("dlog")]),t._v("å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ã€‚å½“è°ƒç”¨"),a("code",[t._v("dlog")]),t._v("å‡½æ•°æ—¶ï¼ŒCPU ä¼šå…ˆåœ¨å†…å­˜ä¸Šè®°å½•ä¸€ä¸‹å½“å‰çš„å‡½æ•°åœ°å€ï¼Œä¹Ÿå°±æ˜¯çº¢è‰²çš„ Return Addressï¼Œç„¶åæ ¹æ® "),a("code",[t._v("dlog")]),t._v("çš„å±€éƒ¨å˜é‡çš„å¤§å°åˆ†é…å¯¹åº”çš„æ ˆã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/9702066a102dec614736849d5b380840.jpg",alt:""}})]),t._v(" "),a("p",[t._v("å‡å¦‚ï¼Œæˆ‘ä»¬çš„ "),a("code",[t._v("dlog")]),t._v("å‡½æ•°ä¸­æœ‰ä¸€ä¸ªç±»ä¼¼ "),a("code",[t._v("strcpy")]),t._v("è¿™æ ·èƒ½å¤Ÿå†™å†…å­˜çš„æ–¹æ³•ï¼Œå¹¶æŠŠå‡½æ•°çš„å‚æ•°ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆï¼Œè¿™é‡Œå°±å¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªå®‰å…¨æ¼æ´ï¼šReturn Address å¯èƒ½ä¼šè¢«æ”¹å†™ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/67cb06c3d7936b027b3e7c625d3aca75.jpg",alt:""}})]),t._v(" "),a("p",[t._v("åˆ«æœ‰ç”¨å¿ƒçš„æ”»å‡»è€…åªè¦å°†ä¼ å…¥çš„å‚æ•°çš„ length è®¾ç½®ä¸ºå¤§äº buffer é•¿åº¦çš„å­—ç¬¦ï¼Œå°±å¯ä»¥æ”¹å†™ Return Address çš„å€¼ï¼Œè¿›è€Œæ§åˆ¶å½“å‰å‡½æ•°æ‰§è¡Œç»“æŸåï¼Œä¸‹ä¸€ä¸ªè°ƒç”¨çš„å‡½æ•°åœ°å€ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/822219e4485f7d092be99a58acca3b96.jpg",alt:""}})]),t._v(" "),a("p",[t._v("ä¸€èˆ¬ä»£ç ç¼–å†™è€…åœ¨ç¼–å†™çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è‡ªå·±å»æ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œå†™å¯¹åº”çš„åˆ¤æ–­é€»è¾‘ï¼Œé¿å…é¢„æœŸä¹‹å¤–çš„å†…å­˜å†™å…¥ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/5f511c5cb79c30a494a08209780f10c7.jpg",alt:""}})]),t._v(" "),a("p",[t._v("è€Œè‹¹æœå·¥ç¨‹å¸ˆè¡¨ç¤ºä»–ä»¬åœ¨ç¼–è¯‘å™¨å±‚é¢ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆã€‚ä»–ä»¬åœ¨ Return Address å’Œæ ˆä¹‹é—´å¢åŠ ä¸€ä¸ªä¸­é—´åŒºåŸŸï¼Œå«åš canaryï¼Œç„¶åè‡ªåŠ¨çš„åœ¨ return ä¹‹å‰æ£€æŸ¥ä¸€ä¸‹ canary æ˜¯å¦è¢«å†™å…¥å†…å®¹ï¼Œå¦‚æœå†™å…¥ï¼Œå°±åˆ©ç”¨ "),a("code",[t._v("abort()")]),t._v("å½“å‰ç¨‹åºçš„æ‰§è¡Œï¼Œé˜»æ­¢æ”»å‡»è€…çš„æ”»å‡»ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/75b4a378c38ecaaec6ebe50c48d78fd7.jpg",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"stack-checking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stack-checking"}},[t._v("#")]),t._v(" Stack Checking")]),t._v(" "),a("p",[t._v("ä¸Šä¸€éƒ¨åˆ†çš„æ¼æ´ä¸»è¦æ˜¯æ”»å‡»è€…åˆ©ç”¨ Stack Buffer Overflow æ¥è¿›è¡Œæ”»å‡»ï¼Œè€Œè¿™ä¸€éƒ¨åˆ†åˆ™æ˜¯åˆ©ç”¨ Stack Clash æ¥è¿›è¡Œæ”»å‡»ã€‚è¯¥æ¼æ´çš„å½±å“å¯ä»¥å‚è€ƒ "),a("a",{attrs:{href:"https://www.ithome.com.tw/news/115015",target:"_blank",rel:"noopener noreferrer"}},[t._v("2017-06-20 çš„è¿™ç¯‡ä¿¡æ¯å®‰å…¨æ–°é—»"),a("OutboundLink")],1),t._v("ã€‚åŒæ—¶ StackExchange  è®ºå›ä¹Ÿæœ‰å…³äºæ­¤çš„"),a("a",{attrs:{href:"https://askubuntu.com/questions/927188/what-is-stack-clash-and-what-can-i-do-about-it",target:"_blank",rel:"noopener noreferrer"}},[t._v("è®¨è®º"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ç®€å•æ¥è¯´ï¼Œå‡å¦‚æˆ‘ä»¬åœ¨æ ˆä¸Šä¸ºå±€éƒ¨å˜é‡åˆ†é…äº†è¿‡å¤šçš„å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šå°†å †è¿›è¡Œåˆ†é¡µï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/2c0e01cd6120b9527d2612919ff7c3e0.jpg",alt:""}})]),t._v(" "),a("p",[t._v("å¦‚æœè¿™ä¸ªå±€éƒ¨å˜é‡è¶³å¤Ÿå¤§ï¼Œé‚£ä¹ˆæœ€ç»ˆåˆ†é¡µåçš„æ ˆå°±æœ‰å¯èƒ½ä¸€ç›´å ç”¨åˆ°å…¶ä»–çš„å†…å­˜ç©ºé—´ï¼Œæ¯”å¦‚å †ï¼Œæ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹å»æ”¹å†™å…¶ä»–å†…å­˜ç©ºé—´ä¸Šçš„å†…å®¹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/e403abd402417c669119079d7642b582.jpg",alt:""}})]),t._v(" "),a("p",[t._v("è€Œè‹¹æœçš„å·¥ç¨‹å¸ˆè¡¨ç¤ºï¼Œä»–ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œè‡ªåŠ¨åœ¨å±€éƒ¨å˜é‡åˆ†é…å‰æ’å…¥æ£€æŸ¥ä»£ç ï¼Œå¦‚æœå±€éƒ¨å˜é‡ä¼šè®©æ ˆè¦†ç›–åˆ°å…¶ä»–çš„å†…å­˜ç©ºé—´ï¼Œå°±åˆ©ç”¨ "),a("code",[t._v("abort()")]),t._v("ç»ˆæ­¢åº”ç”¨çš„æ‰§è¡Œã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/537ad795ccd3cef9c62d5c35442ffe42.jpg",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"new-instruction-set-extensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-instruction-set-extensions"}},[t._v("#")]),t._v(" New Instruction Set Extensions")]),t._v(" "),a("p",[t._v("ç»ˆäºæ¥åˆ°äº†æœ€åä¸€éƒ¨åˆ†ï¼Œåœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œè‹¹æœçš„å·¥ç¨‹å¸ˆå‘Šè¯‰æˆ‘ä»¬ï¼Œæ–°çš„ Xcode ä¸­çš„ LLVM ç¼–è¯‘å‡ºçš„ä»£ç æ”¯æŒäº†æ–°çš„æŒ‡ä»¤é›†æ‰©å±•(Instruction Set Extension)ï¼Œè¿™äº›æ‰©å±•å¯ä»¥å¸®åŠ©ä½ åœ¨ iMac Pro / iPhone X / iPhone 8 / iPhone 8 Plus å‘æŒ¥å‡ºæ›´å¥½çš„æ€§èƒ½ã€‚")]),t._v(" "),a("h4",{attrs:{id:"new-vector-extension-avx-512"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-vector-extension-avx-512"}},[t._v("#")]),t._v(" New Vector Extension: AVX-512")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€éƒ¨åˆ†çš„æ‰©å±•å†…å®¹ï¼Œæ˜¯å¯¹ Intel çš„ "),a("a",{attrs:{href:"https://www.intel.cn/content/www/cn/zh/architecture-and-technology/avx-512-overview.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("AVX-512"),a("OutboundLink")],1),t._v(" æ‰©å±•çš„æ”¯æŒï¼Œè¿™ä¸ªæ‰©å±•ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨ Intel çš„è‡³å¼º(Xeon)å¤„ç†å™¨ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å¤§ 512 bit çš„å‘é‡æ¥æå‡è®¡ç®—å¯†é›†å‹å·¥ä½œçš„æ•ˆç‡ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ Xcode çš„ build settings ä¸­ï¼Œ æœ‰ä¸€ä¸ªå«åš "),a("code",[t._v("Enable Additional Vector Extensions")]),t._v(" çš„é€‰é¡¹ï¼Œå¯èƒ½æˆ‘ä»¬å¤§éƒ¨åˆ†äººéƒ½ä¸ä¼šæ³¨æ„åˆ°ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/d975c3f30143b94a5b942d5fbeb1009d.jpg",alt:""}})]),t._v(" "),a("p",[t._v("é€šè¿‡è¿™ä¸ªé€‰é¡¹ï¼Œä½ å¯ä»¥é’ˆå¯¹æŸäº›ç‰¹å®šæ¶æ„çš„æœºå™¨ï¼Œç¼–è¯‘å‡ºæ”¯æŒç‰¹å®šæŒ‡ä»¤é›†æ‰©å±•çš„ä»£ç ã€‚æ¯”å¦‚æˆ‘ä»¬è¿™é‡Œå¯ä»¥é’ˆå¯¹ iMac Pro ç¼–è¯‘å‡ºæ”¯æŒ AVX-512 æŒ‡ä»¤é›†æ‰©å±•çš„ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆï¼Œç”¨ AVX-512 æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¸ä¸¥è°¨çš„è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‘é‡çš„å¤§å°ç±»æ¯”æˆ CPU çš„å­—é•¿ï¼Œ64 ä½çš„ CPU åœ¨æ•ˆç‡ä¸Šæ˜¯ä¼˜äº 32 ä½çš„ã€‚è€Œè¶Šå¤§çš„å‘é‡ï¼Œåœ¨å¹¶è¡Œè®¡ç®—çš„æ—¶å€™ä¹Ÿå°±è¶Šæœ‰æ•ˆç‡ã€‚ç”±äºæ·±åº¦å­¦ä¹ çš„çš„åŸºæœ¬åŸç†å°±æ˜¯å°†ç°å®é—®é¢˜å‘é‡åŒ–ï¼Œå¹¶é€šè¿‡å¹¶è¡Œè®¡ç®—è·å¾—æœ€ä¼˜è§£ï¼Œæ‰€ä»¥åœ¨ iMac Pro ä¸Šï¼Œä½ å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œè®©ä½ çš„æ·±åº¦å­¦ä¹ æ¨¡å‹å­¦ä¹ çš„æ›´æœ‰æ•ˆç‡ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ˜¯å¯¹ CPU çš„æå‡ï¼Œç°åœ¨çš„æ·±åº¦å­¦ä¹ åº”è¯¥è¿˜æ˜¯ä¸»è¦ç”¨ GPU æ¥åšå­¦ä¹ è¿ç®—çš„ï¼Œå…¶å…·ä½“æ„ä¹‰ï¼Œå¯ä»¥å‚è€ƒçŸ¥ä¹ç½‘å‹çš„"),a("a",{attrs:{href:"https://www.zhihu.com/question/51649408",target:"_blank",rel:"noopener noreferrer"}},[t._v("è®¨è®º"),a("OutboundLink")],1),t._v(" ä»¥åŠè¿™ç¯‡"),a("a",{attrs:{href:"http://linuxperformance.top/index.php/archives/94/",target:"_blank",rel:"noopener noreferrer"}},[t._v("åšå®¢"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ä¸ç®¡æ„ä¹‰å¦‚ä½•ï¼Œæ¯•ç«Ÿ Xcode å¢åŠ äº†æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬ç”¨ç”¨ä¹Ÿæ²¡æœ‰åå¤„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•åœ¨ä»£ç ä¸­ç”¨ä¸Šè¿™ä¸ªæ–°ç‰¹æ€§å‘¢ï¼Ÿå¤§ä½“æ¥è¯´ï¼Œéœ€è¦ä¸¤æ­¥ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("åˆ©ç”¨  "),a("code",[t._v("__attribute__")]),t._v("å£°æ˜é’ˆå¯¹æŸä¸ªæ¶æ„çš„æ–¹æ³•")]),t._v(" "),a("li",[t._v("å¼•å…¥å¸¦æœ‰ 512 bit å‘é‡çš„å¤´æ–‡ä»¶ï¼Œåœ¨æˆ‘ä»¬å£°æ˜çš„æ–¹æ³•ä¸­ï¼Œä½¿ç”¨è¿™ä¸ªå‘é‡")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/2018-06-24-what-is-new-in-llvm/d23480274e41c14f2ed35bc95857ff12.jpg",alt:""}})]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œè‹¹æœå·¥ç¨‹å¸ˆè¿˜ç»™å‡ºäº†ä¸‰ä¸ªä½¿ç”¨å»ºè®®ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("åªåœ¨ AVX-512 çš„æ–¹æ³•ä¹‹é—´ä¼ é€’ 512 bit çš„å¤§å‘é‡")]),t._v(" "),a("li",[t._v("æ³¨æ„ AVX-512 å‘é‡çš„å­—èŠ‚å¯¹é½é—®é¢˜")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ Accelerate.framework")])]),t._v(" "),a("h4",{attrs:{id:"arm-v8-1-atomics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm-v8-1-atomics"}},[t._v("#")]),t._v(" ARM v8.1 Atomics")]),t._v(" "),a("p",[t._v("åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œè‹¹æœçš„å·¥ç¨‹å¸ˆè¡¨ç¤ºï¼Œå¯¹äºé‚£äº›ä½¿ç”¨äº† A11 å¤„ç†å™¨çš„æ–°æœºå™¨ï¼Œä»–ä»¬çš„ CPU æ‹¥æœ‰äº†æ›´å¤šçš„æ ¸å¿ƒï¼ŒåŒæ—¶ä¹Ÿå°±å…è®¸å¼€å‘è€…ä½¿ç”¨æ›´å¤šçš„çº¿ç¨‹ï¼Œè€Œçº¿ç¨‹ä¹‹é—´åˆå¯èƒ½ä¼šæœ‰æ›´å¤šçš„æ²Ÿé€šéœ€æ±‚ï¼Œäºæ˜¯ä»–ä»¬è®© Xcode 10 ç¼–è¯‘å‡ºæ¥çš„ä»£ç ä½¿ç”¨  A11 å¤„ç†å™¨ä¸Šçš„ ARM v8.1 Atomics è¿™ä¸ªæŒ‡ä»¤é›†æ‰©å±•çš„ç‰¹æ€§ã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸ªç‰¹æ€§ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åˆ©ç”¨äº† A11 å¤„ç†å™¨ä¸Šçš„æ–°çš„åŸå­æŒ‡ä»¤ï¼Œè®©åŸæ¥éœ€è¦å››ä¸ªç”šè‡³æ›´å¤šæ¡æŒ‡ä»¤æ‰èƒ½å®Œæˆçš„å·¥ä½œç°åœ¨åªéœ€è¦ä¸€æ¡æŒ‡ä»¤å°±å¯ä»¥å®Œæˆã€‚è¯¦æƒ…å¯ä»¥å‚è§ "),a("a",{attrs:{href:"https://community.arm.com/processors/f/discussions/8772/v8-2-atomic-instructions",target:"_blank",rel:"noopener noreferrer"}},[t._v("ARM ç¤¾åŒºç½‘å‹çš„é—®ç­”"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸ªç‰¹æ€§å¹¶ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å»æŒ‡å®šï¼ŒLLVM ä¼šè‡ªåŠ¨æ ¹æ®å¹³å°ç¼–è¯‘å‡ºåˆé€‚çš„ä»£ç ã€‚å¯¹æˆ‘ä»¬çš„å½±å“ï¼Œå¯èƒ½å°±æ˜¯æˆ‘ä»¬ç”¨ GCD æˆ–è€… pthread ç­‰ API å†™å‡ºæ¥çš„çº¿ç¨‹åŒæ­¥ä»£ç ï¼Œåœ¨  iPhone X / iPhone 8 / iPhone 8Plus ä¸Šä¼šè·‘çš„æ›´æœ‰æ•ˆç‡ä¸€äº›ã€‚")]),t._v(" "),a("h4",{attrs:{id:"arm-v8-2-float-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm-v8-2-float-16"}},[t._v("#")]),t._v(" ARM v8.2 Float 16")]),t._v(" "),a("p",[t._v("è¿™ä¸ªç‰¹æ€§ç›¸æ¯”æ¥è¯´å°±æ›´ç®€å•äº†ï¼Œåœ¨ iPhone X / iPhone 8 / iPhone 8Plus ä¸Šï¼Œé™¤äº†å•ç²¾åº¦æµ®ç‚¹æ•°(Float) å’ŒåŒç²¾åº¦æµ®ç‚¹æ•°(Double)ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Half-precision_floating-point_format",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠç²¾åº¦æµ®ç‚¹æ•°(Half)"),a("OutboundLink")],1),t._v("ã€‚è¿™è®©æˆ‘ä»¬åœ¨å¯¹æµ®ç‚¹æ•°ç²¾åº¦è¦æ±‚ä¸é«˜çš„æ—¶å€™æ‹¥æœ‰äº†æ›´å¤šçš„é€‰æ‹©ï¼ŒèŠ‚çœæ›´å¤šçš„ç©ºé—´ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å†™åœ¨æœ€å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨æœ€å"}},[t._v("#")]),t._v(" å†™åœ¨æœ€å")]),t._v(" "),a("p",[t._v("éƒ½è¯´ç¨‹åºå‘˜çš„ä¸‰å¤§æµªæ¼«æ˜¯ç¼–è¯‘å™¨ã€å›¾å½¢å­¦å’Œæ“ä½œç³»ç»Ÿï¼Œä¹‹æ‰€ä»¥æµªæ¼«ï¼Œå°±æ˜¯å› ä¸ºè¿™æ˜¯ä¸‰ä¸ªçŸ­æ—¶é—´å¾ˆéš¾æœ‰å¤§çš„æˆæœçš„é¢†åŸŸã€‚LLVM åº”è¯¥ç®—æ˜¯å…¶ä¸­çš„ç¼–è¯‘å™¨çš„è¿™ä¸ªé¢†åŸŸã€‚è™½ç„¶è¿™æ¬¡ LLVM å¹¶æ²¡æœ‰åƒ ARC è¿™æ ·æƒŠå¤©åŠ¨åœ°çš„æ–°ç‰¹æ€§å‡ºç°ï¼Œæœ‰çš„åªæ˜¯ä¸€äº›åŸæœ‰åŠŸèƒ½çš„ä¼˜åŒ–ä»¥åŠåº•å±‚æ–°ç‰¹æ€§çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¹Ÿä¸è¦å¤ªå¤±æœ›ï¼Œæ¯•ç«Ÿï¼Œé•¿åŸä¸æ˜¯ä¸€å¤©ç›–èµ·æ¥çš„ã€‚æ–°çš„ç‰›é€¼çš„ç¼–è¯‘å™¨æŠ€æœ¯ä¹Ÿä¸æ˜¯ä¸€å¹´ä¸¤å¹´å°±å¯ä»¥ç§¯ç´¯èµ·æ¥çš„ã€‚å¥½çš„ï¼Œä»Šå¹´çš„ ã€What's new in LLVMã€èµæå°±åˆ°è¿™é‡Œäº†ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼Œæˆ‘ä»¬æ˜å¹´è§~")])])}),[],!1,null,null,null);a.default=r.exports}}]);