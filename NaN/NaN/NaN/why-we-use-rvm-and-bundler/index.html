<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>为什么我们要使用 RVM / Bundler | Onee&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/icon.png">
    <link rel="alternate" type="application/rss+xml" href="https://onee.me/rss.xml" title="Onee&#39;s Blog RSS Feed">
    <meta name="description" content="作为一名 iOS 工程师，cocoapods 是我们所不会陌生的。然而在我们的日常开发中，编写 cocoapods 的 Ruby 语言我们可能不甚了解，更不要说 Bundler 以及 RVM 了。因此，当我们遇到一些 Ruby 环境相关的问题时，可能完全不知道发生了什么。如果恰好你对这两个工具做了什么感到好奇，那么，在这篇文章中，我会尽量由浅入深的去说明 RVM / Bundler 的原理和作用， ...">
    
    <link rel="preload" href="/assets/css/0.styles.e072e671.css" as="style"><link rel="preload" href="/assets/js/app.9cbc85f0.js" as="script"><link rel="preload" href="/assets/js/8.de39a2df.js" as="script"><link rel="preload" href="/assets/js/4.75a239aa.js" as="script"><link rel="preload" href="/assets/js/20.db96440f.js" as="script"><link rel="preload" href="/assets/js/11.1ced6ab3.js" as="script"><link rel="prefetch" href="/assets/js/10.0499a691.js"><link rel="prefetch" href="/assets/js/12.8dbd30c2.js"><link rel="prefetch" href="/assets/js/13.347dbc79.js"><link rel="prefetch" href="/assets/js/14.2adb8fa7.js"><link rel="prefetch" href="/assets/js/15.61edbf17.js"><link rel="prefetch" href="/assets/js/16.f6fb6f07.js"><link rel="prefetch" href="/assets/js/17.2624cae3.js"><link rel="prefetch" href="/assets/js/18.caae516a.js"><link rel="prefetch" href="/assets/js/19.74468e7f.js"><link rel="prefetch" href="/assets/js/21.d6e772b1.js"><link rel="prefetch" href="/assets/js/22.aa0557ab.js"><link rel="prefetch" href="/assets/js/23.5151b5c1.js"><link rel="prefetch" href="/assets/js/24.9f10956c.js"><link rel="prefetch" href="/assets/js/25.6555ae13.js"><link rel="prefetch" href="/assets/js/26.035b50f9.js"><link rel="prefetch" href="/assets/js/27.fec80cb8.js"><link rel="prefetch" href="/assets/js/3.a2e370df.js"><link rel="prefetch" href="/assets/js/5.8922c4b3.js"><link rel="prefetch" href="/assets/js/6.4dc5f0a5.js"><link rel="prefetch" href="/assets/js/7.72183347.js"><link rel="prefetch" href="/assets/js/9.4ce6e40a.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.496722bb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e072e671.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Onee's Blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Timeline</a></li><li class="nav-item"><a href="/skill/" class="nav-link">Skill</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Onee's Blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Timeline</a></li><li class="mobile-nav-item"><a href="/skill/" class="nav-link">Skill</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">About</a></li> <li class="mobile-nav-item"><a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        为什么我们要使用 RVM / Bundler
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2018/12/21">
      2018-12-21
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/白银" data-v-42ccfcd5><span data-v-42ccfcd5>白银</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/Computer-Tools-PackageManager" data-v-42ccfcd5><span data-v-42ccfcd5>Computer-Tools-PackageManager</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><p>作为一名 iOS 工程师，cocoapods 是我们所不会陌生的。然而在我们的日常开发中，编写 cocoapods 的 Ruby 语言我们可能不甚了解，更不要说 Bundler 以及 RVM 了。因此，当我们遇到一些 Ruby 环境相关的问题时，可能完全不知道发生了什么。如果恰好你对这两个工具做了什么感到好奇，那么，在这篇文章中，我会尽量由浅入深的去说明 RVM / Bundler 的原理和作用，帮助大家对 Ruby 的环境管理有一个更加深入的理解。</p> <h2 id="tldr"><a href="#tldr" class="header-anchor">#</a> TLDR</h2> <ul><li>使用 RVM 来安装 Ruby</li> <li><code>gem install rubygems-bundler &amp;&amp; gem regenerate_binstubs</code> 可以让你免去每次都要在 <code>pod install</code> 之前添加 <code>bundle exec</code> 的痛苦</li></ul> <h2 id="ruby-测试"><a href="#ruby-测试" class="header-anchor">#</a> Ruby 测试</h2> <p>我们都知道，macOS 是自带 Ruby 的。也就是说，当我们拿到一台新的 MacBook Pro，进入系统，打开终端执行 <code>whereis ruby</code>，我们会得到 <code>/usr/bin/ruby</code> 这样的结果。</p> <p>在目前的 macOS 10.14 版本中，系统自带的 Ruby 版本为 2.3.7。</p> <h2 id="为什么需要使用-rvm"><a href="#为什么需要使用-rvm" class="header-anchor">#</a> 为什么需要使用 RVM？</h2> <p>在没有安装 RVM 或者 rbenv 这样的工具以前，大家在执行 <code>gem install cococapods</code> 这一行命令的时候一定会遇到这样的报错：</p> <div class="language- extra-class"><pre class="language-text"><code>You don't have write permissions for the /Library/Ruby/Gems/2.3.0 directory
</code></pre></div><p>为什么会出现这样的错误？因为 gem 作为 Ruby 默认的包管理器，会将所有下载的 gem 安装在某个特定的目录下，我们暂且称呼这个目录为 Gem Path ，对于系统的 Ruby 来说，这个目录就是 /Library/Ruby/Gems/2.3.0，这是一个需要启用 <code>sudo</code> 才能写入的目录。这也就导致我们在每次 <code>gem install</code> 的时候都需要在命令之前增加 <code>sudo</code> 才能让命令正确执行。</p> <p>为了解决这个问题，我们需要让 Gem Path 指向一个我们拥有写权限的目录。比较简单直接的办法就是我们利用 homebrew 去安装一个新的 Ruby。</p> <p>似乎很完美，但有个问题：我们如何约束大家所有人都使用同样版本的 Ruby 呢？</p> <p>答案是使用 Ruby 的版本管理工具。以 RVM 为例，当你安装 RVM 以后，你在命令行中执行的每一个 <code>cd</code> 命令其实都被 RVM 所替换了。RVM 会在每一次切换目录后检查当前目录中是否有 .ruby-version 文件，如果有，就检查当前使用的 Ruby 是否是文件中指定的版本。如果不是，他会给出类似 <code>Required ruby-x.x.x is not installed</code> 这样的警告。</p> <p>在我司工程的早期阶段，我们除了使用 cocoapods，还需要使用 Ruby 编写一些打包和发布的脚本，而当时系统提供的 Ruby 版本还比较低（2.0.0），开发起来不太方便，而利用 RVM ，我们不仅可以方便的安装一个新版本的 Ruby，还可以利用 .ruby-version 来保证大家可以使用相同版本的 Ruby（尽管只是一个比较弱的约束）。</p> <p>相信到这里，大家已经能够理解，在我们的项目中使用 RVM 是很有必要的。我们接下来看第二个问题：为什么要用 Bundler？</p> <h2 id="为什么要使用-bundler"><a href="#为什么要使用-bundler" class="header-anchor">#</a> 为什么要使用 Bundler？</h2> <p>为了回答这个问题，我们需要先把目光转向 gem，回顾一下 gem 诞生时要解决的问题。</p> <h3 id="gem-所要解决的问题"><a href="#gem-所要解决的问题" class="header-anchor">#</a> gem 所要解决的问题</h3> <p>在 Ruby 中，如果你想使用另外一个 Ruby 文件中的内容，你需要使用 <code>require</code> 关键字来加载另外一个 Ruby 文件中的内容。<code>require</code> 会在 Ruby 预设的 <code>$LOAD_PATH</code> 中去查找对应的文件。你可以通过执行 <code>ruby -e 'puts $LOAD_PATH'</code> 来看看当前 Ruby 中的 <code>$LOAD_PATH</code> 都有什么内容。</p> <p>例如如果你写了一个简单的 Ruby 脚本：</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">require</span> <span class="token string-literal"><span class="token string">'foo'</span></span>
</code></pre></div><p>当执行到 <code>require 'foo'</code> 这一行时, Ruby 就会在 <code>$LOAD_PATH</code> 中出现的所有目录下去查找是否有一个叫做 foo.rb 的文件。如果有，就去加载这个文件的内容。如果在所有的 <code>$LOAD_PATH</code> 中都没有找到这样的一个文件，Ruby 解释器就会抛出异常。异常通常长这个样子：</p> <div class="language- extra-class"><pre class="language-text"><code>LoadError - cannot load such file -- foo
</code></pre></div><p>在没有 gem 以前，如果你想用别人已经写好的 Ruby 脚本，就需要手动把这些脚本下载下来，放到 <code>$LOAD_PATH</code> 中的某个目录下，然后你才能在你的脚本中正确的使用别人的脚本文件。这样的代码分发过程是非常原始而繁琐的。</p> <p>为了解决这个问题，gem 横空出世，提供了这样的一个脚本分发解决方案：</p> <ol><li>首先用 gemspec 来描述你即将分发的脚本的元信息</li> <li>利用 gem 提供的命令，将脚本打包成一个 .gem 文件（.gem 实质就是一个 POSIX tar archive），然后上传到服务器</li> <li>当有其他人想要使用你的脚本时，执行 <code>gem install</code> 即可</li></ol> <p>前面的内容很好理解，我们来着重看一下执行 <code>gem install</code> 之后发生了什么。</p> <p><code>gem install</code> 所做的事情其实很简单。但到此时 gem 还没有完全解决我们的问题：<code>gem install</code> 所安装的那些 gem 并不存在于 <code>$LAOD_PATH</code> 中，我们的 Ruby 脚本还是无法正确的引用到他们。</p> <p>为了解决这个问题，gem 在自己被安装后，就去修改了 Ruby 中 require 的实现，使得 require 在执行的时候，除了 <code>$LOAD_PATH</code>，还会在 Gems Install Path 中查找文件（你可以通过执行 <code>gem env | grep -A2 'GEM PATHS'</code> 找到你的 gem 所安装的路径，GEMS INSTALL PATH 就在这个目录的 gems 子目录下）。</p> <p>当 gem 在 GEMS INSTALL PATH 中找到对应文件后，就会把这个路径加入到 <code>$LOAD_PATH</code> 中，然后调用 Ruby 本来的 require。此时由于 <code>$LOAD_PATH</code> 中增加了新的路径，require 就可以正确的加载到你所安装的 gem 的对应文件了。</p> <p>这里我们可以做一个小实验，找一个没有 Gemfile 的目录执行 irb，然后依次输入注释以外的内容：</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>old_load_path <span class="token operator">=</span> <span class="token variable">$LOAD_PATH</span><span class="token punctuation">.</span>dup
<span class="token keyword">require</span> <span class="token string-literal"><span class="token string">'cocoapods'</span></span>
new_load_path <span class="token operator">=</span> <span class="token variable">$LOAD_PATH</span><span class="token punctuation">.</span>dup
<span class="token comment"># 执行下面的代码可以看看 LOAD_PATH 数量的变化</span>
<span class="token string-literal"><span class="token string">&quot;new: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">new_load_path<span class="token punctuation">.</span>count</span><span class="token delimiter punctuation">}</span></span><span class="token string"> old: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">old_load_path<span class="token punctuation">.</span>count</span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span>
<span class="token comment"># 执行下面的代码可以看看 LOAD_PATH 到底变了什么。你会看到 cocoapods 以及他的依赖库所在的目录</span>
new_load_path <span class="token operator">-</span> old_load_path
</code></pre></div><p>至此，gem 已经完美解决了分发 Ruby 脚本的问题。当你想要使用任何一个别人已经提供好的 gem 的时候，只需要简单输入 <code>gem install</code>，你的脚本就可以快乐的使用这个 gem 了。</p> <h3 id="gem-所带来的新的问题"><a href="#gem-所带来的新的问题" class="header-anchor">#</a> gem 所带来的新的问题</h3> <p>到目前为止，一切似乎很美好，但是随着 Ruby 应用于各种大型项目以后，Ruby 的开发者们发现了新的问题：当你的项目依赖了十几个 gem 后，新接手的人的配置环境时需要输入十几次 <code>gem install</code> 才能正确的配置好环境。</p> <p>这样的事情开发者们当然不能忍，于是他们开始使用各种脚本文件将这个过程简化，这些脚本可能叫做 setup.sh ，他们的内容一般是这样的：</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>gem install foo
gem install bar
</code></pre></div><p>在这里我们暂时可以称呼类似这种 setup.sh 文件为 Gem List 文件，因为他就是一个装满了所有你需要安装的 Gem 的 List 🤓🤓🤓。</p> <p>当 Ruby 的开发者们解决了批量安装 gem 的问题以后，他们又发现了新的问题：多版本环境不隔离。</p> <p>什么意思？我们来举个例子说明一下这个问题。</p> <p>假如你是一名 Ruby 开发者，你维护着一个你的项目 A，在这个项目中你使用了 2.0.0 版本的 foo。一段时间后，你又开始接手维护另外一个项目 B，不幸的是，这个项目最开始使用的 foo 的版本是 3.0.0。于是令人头疼的事情发生了：当你配置好了项目 B 的环境以后，你的机器上就会同时存在两个版本的 foo 的 gem。同时你会发现，你的项目 A 跑不起来了，因为你在运行项目 A 时，gem 默认会去找多个版本中最新的版本，于是在项目 A 中你用到了 3.0.0 版本的 foo 而不是 2.0.0 版本。</p> <p>于是各种有趣但无奈的事情发生了：你的项目在你本地可能好好的，但是在服务器上就是不对。你查了好几天，发现是因为服务器上的另外一个项目装了一个高版本的 gem，导致服务器上的环境根本没法跑你的项目。你痛苦，你绝望，但你又无能为力 🤬🤬🤬。</p> <p>即便你只维护一个项目，由于你的 Gem List 文件中并没有指定 gem 的版本号，所以很有可能一周前利用这个 Gem List 文件安装出来的 gem 和一周后安装出来的完全不同。以至于很久以前 Ruby 开发者们都会开玩笑：“你好啊新人，这是一台新的电脑，我们希望你能花一周把项目的依赖配置好，如果一切顺利的话”</p> <h3 id="bundler-的解决方案"><a href="#bundler-的解决方案" class="header-anchor">#</a> Bundler 的解决方案</h3> <p>为了解决上面使用 gem 所产生的这些问题，Bundler 横空出世，提供给开发者两个救命一般的命令：</p> <ul><li><code>bundle install</code></li> <li><code>bundle exec</code></li></ul> <p><code>bundle install</code> 为我们提供了统一安装多个 gem 的便捷方式。在执行 <code>bundle install</code> 后，Bundler 会将他所使用的 Gem List 文件 —— Gemfile 中声明的 gem 全部安装，同时将此次决议的最终版本号保存在 Gemfile.lock 中，保证不同时刻不同机器执行 <code>bundle install</code> 能够安装同样版本的 gem。</p> <p><code>bundle exec</code> 则替我们解决了多版本环境不隔离的问题。当你执行 <code>bundle exec</code> 的时候，Bundler 会把 <code>$LOAD_PATH</code> 中不相干的那些 gem 的路径全都去掉，然后读取 Gemfile.lock 中的 gem 版本（如果没有 Gemfile.lock 会决议版本后创建一个 Gemfile.lock），保证 <code>$LOAD_PATH</code> 中只存在 Gemfile.lock 中已经固定版本的 gem 的路径。你可以执行一下下面两行代码，看看 <code>$LOAD_PATH</code> 的区别：</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>bundle exec ruby <span class="token operator">-</span>e <span class="token string-literal"><span class="token string">'puts $LOAD_PATH'</span></span>
ruby <span class="token operator">-</span>e <span class="token string-literal"><span class="token string">'puts $LOAD_PATH'</span></span>
</code></pre></div><h3 id="bundler-带来的新问题"><a href="#bundler-带来的新问题" class="header-anchor">#</a> Bundler 带来的新问题</h3> <p>至此，Bundler 已经很好的解决了 gem 安装和环境隔离的问题了，但是 Bundler 也带来了新的麻烦：每次我们执行 Ruby 相关的命令之前都要重复的输入 <code>bundle exec</code> 🤦🏻‍♂️🤦🏻‍♂️🤦🏻‍♂️。</p> <p>还好 Ruby 的开发者们都很懒，他们开发了一个新的 gem —— <a href="https://github.com/rvm/rubygems-Bundler" target="_blank" rel="noopener noreferrer">rubygems-Bundler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来解决这个问题。当你安装这个 gem 以后，只要执行一次 <code>gem regenerate_binstubs</code>，rubygems-Bundler 就会帮你在任何 gem 安装的命令行执行之前检查一下当前目录以及父目录是否存在 Gemfile。如果存在，就自动帮你的命令行之前加上 <code>bundle exec</code> 再执行。完美的解决了这个问题。</p> <blockquote><p>小提示：1.11.0 以上版本的 RVM 在安装 Ruby 时，默认会安装 rubygems-Bundler。你可以通过 <code>gem list rubygems-Bundler</code> 来检查自己是否安装了这个 gem。如果你用 homebrew 安装 Ruby，则不会享受到这个隐藏的福利。</p></blockquote> <h2 id="扩展练习-来看看一些常见的报错-现在你知道发生了什么了么"><a href="#扩展练习-来看看一些常见的报错-现在你知道发生了什么了么" class="header-anchor">#</a> 扩展练习：来看看一些常见的报错，现在你知道发生了什么了么？</h2> <h3 id="练习一"><a href="#练习一" class="header-anchor">#</a> 练习一</h3> <div class="language- extra-class"><pre class="language-text"><code>LoadError - cannot load such file -- macho
</code></pre></div><h3 id="练习二"><a href="#练习二" class="header-anchor">#</a> 练习二</h3> <div class="language- extra-class"><pre class="language-text"><code>Could not find proper version of cocoapods (1.1.1) in any of the sources
Run `bundle install` to install missing gems.
</code></pre></div><h3 id="练习三"><a href="#练习三" class="header-anchor">#</a> 练习三</h3> <div class="language- extra-class"><pre class="language-text"><code>Required ruby-2.3.7 is not installed.
To install do: 'rvm install &quot;ruby-2.3.7&quot;'
</code></pre></div><h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://medium.com/@Sudhagar/rbenv-how-it-works-e5a0e4fa6e76" target="_blank" rel="noopener noreferrer">Rbenv — How it works<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.mindfiresolutions.com/blog/2018/01/rbenv-vs-rvm/" target="_blank" rel="noopener noreferrer">rbenv vs rvm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://afterthoughtsoftware.com/posts/A-Ruby-workflow-with-RVM" target="_blank" rel="noopener noreferrer">A Ruby workflow with RVM and Bundler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://Bundler.io/rationale.html" target="_blank" rel="noopener noreferrer">Bundler: The best way to manage a Ruby application's gems<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cloudcity.io/blog/2015/07/10/how-Bundler-works-a-history-of-ruby-dependency-management/" target="_blank" rel="noopener noreferrer">How Bundler Works: A History of Ruby Dependency Management<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://andre.arko.net/2017/11/16/a-history-of-bundles/" target="_blank" rel="noopener noreferrer">A History of Bundles: 2010 to 2017<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/@connorstack/understanding-ruby-load-require-gems-Bundler-and-rails-autoloading-from-the-bottom-up-3b422902ca0" target="_blank" rel="noopener noreferrer">Understanding ruby load, require, gems, Bundler and rails autoloading from the bottom up<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://andre.arko.net/2015/04/28/how-does-Bundler-work-anyway/" target="_blank" rel="noopener noreferrer">How does Bundler work, anyway?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#tldr" title="TLDR">TLDR</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ruby-测试" title="Ruby 测试">Ruby 测试</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#为什么需要使用-rvm" title="为什么需要使用 RVM？">为什么需要使用 RVM？</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#为什么要使用-bundler" title="为什么要使用 Bundler？">为什么要使用 Bundler？</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#gem-所要解决的问题" title="gem 所要解决的问题">gem 所要解决的问题</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#gem-所带来的新的问题" title="gem 所带来的新的问题">gem 所带来的新的问题</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#bundler-的解决方案" title="Bundler 的解决方案">Bundler 的解决方案</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#bundler-带来的新问题" title="Bundler 带来的新问题">Bundler 带来的新问题</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#扩展练习-来看看一些常见的报错-现在你知道发生了什么了么" title="扩展练习：来看看一些常见的报错，现在你知道发生了什么了么？">扩展练习：来看看一些常见的报错，现在你知道发生了什么了么？</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#练习一" title="练习一">练习一</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#练习二" title="练习二">练习二</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#练习三" title="练习三">练习三</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#参考" title="参考">参考</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9cbc85f0.js" defer></script><script src="/assets/js/8.de39a2df.js" defer></script><script src="/assets/js/4.75a239aa.js" defer></script><script src="/assets/js/20.db96440f.js" defer></script><script src="/assets/js/11.1ced6ab3.js" defer></script>
  </body>
</html>
